{"ast":null,"code":"const usuarioLogado = \"@InCo-Usuario\";\nconst TOKEN_KEY = \"@InCo-Token\";\nexport const isAuthenticated = () => localStorage.getItem(TOKEN_KEY) !== null;\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\nexport const login = usuario => {\n  localStorage.setItem(TOKEN_KEY, usuario.token);\n  delete usuario.token;\n  localStorage.setItem(usuarioLogado, JSON.stringify(usuario)); //transforma o obj em json, para salvar no localStorage\n};\nexport const getUsuarioLogado = () => {\n  let usuario = JSON.parse(localStorage.getItem(usuarioLogado)); //transforma o json salvo em obj\n\n  return usuario;\n};\nexport const logout = () => {\n  localStorage.removeItem(TOKEN_KEY);\n  localStorage.removeItem(usuarioLogado);\n};\nexport const isAdmin = () => {\n  let usuario = getUsuarioLogado();\n  if (!usuario) return false;\n  const admin = usuario.perfis.some(p => p.nome === 'admin');\n  return admin;\n};","map":{"version":3,"sources":["/home/dho/Documentos/InCo/frontend/src/services/auth.js"],"names":["usuarioLogado","TOKEN_KEY","isAuthenticated","localStorage","getItem","getToken","login","usuario","setItem","token","JSON","stringify","getUsuarioLogado","parse","logout","removeItem","isAdmin","admin","perfis","some","p","nome"],"mappings":"AAAA,MAAMA,aAAa,GAAG,eAAtB;AACA,MAAMC,SAAS,GAAG,aAAlB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAMC,YAAY,CAACC,OAAb,CAAqBH,SAArB,MAAoC,IAAlE;AAEP,OAAO,MAAMI,QAAQ,GAAG,MAAMF,YAAY,CAACC,OAAb,CAAqBH,SAArB,CAAvB;AAGP,OAAO,MAAMK,KAAK,GAAIC,OAAD,IAAa;AAChCJ,EAAAA,YAAY,CAACK,OAAb,CAAqBP,SAArB,EAAgCM,OAAO,CAACE,KAAxC;AACA,SAAOF,OAAO,CAACE,KAAf;AACAN,EAAAA,YAAY,CAACK,OAAb,CAAqBR,aAArB,EAAoCU,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAApC,EAHgC,CAG6B;AAC9D,CAJM;AAMP,OAAO,MAAMK,gBAAgB,GAAG,MAAM;AACpC,MAAIL,OAAO,GAAGG,IAAI,CAACG,KAAL,CAAWV,YAAY,CAACC,OAAb,CAAqBJ,aAArB,CAAX,CAAd,CADoC,CAC0B;;AAC9D,SAAOO,OAAP;AACD,CAHM;AAKP,OAAO,MAAMO,MAAM,GAAG,MAAM;AAC1BX,EAAAA,YAAY,CAACY,UAAb,CAAwBd,SAAxB;AACAE,EAAAA,YAAY,CAACY,UAAb,CAAwBf,aAAxB;AACD,CAHM;AAMP,OAAO,MAAMgB,OAAO,GAAG,MAAM;AAC3B,MAAIT,OAAO,GAAGK,gBAAgB,EAA9B;AACA,MAAG,CAACL,OAAJ,EAAa,OAAO,KAAP;AACb,QAAMU,KAAK,GAAGV,OAAO,CAACW,MAAR,CACHC,IADG,CACEC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAW,OADlB,CAAd;AAEA,SAAOJ,KAAP;AACD,CANM","sourcesContent":["const usuarioLogado = \"@InCo-Usuario\"\nconst TOKEN_KEY = \"@InCo-Token\"\n\nexport const isAuthenticated = () => localStorage.getItem(TOKEN_KEY) !== null\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY)\n\n\nexport const login = (usuario) => {\n  localStorage.setItem(TOKEN_KEY, usuario.token)\n  delete usuario.token\n  localStorage.setItem(usuarioLogado, JSON.stringify(usuario)) //transforma o obj em json, para salvar no localStorage\n};\n\nexport const getUsuarioLogado = () => {\n  let usuario = JSON.parse(localStorage.getItem(usuarioLogado)) //transforma o json salvo em obj\n  return usuario\n}\n\nexport const logout = () => {\n  localStorage.removeItem(TOKEN_KEY)\n  localStorage.removeItem(usuarioLogado)\n};\n\n\nexport const isAdmin = () => {\n  let usuario = getUsuarioLogado()\n  if(!usuario) return false\n  const admin = usuario.perfis\n            .some(p => p.nome === 'admin')\n  return admin\n}"]},"metadata":{},"sourceType":"module"}