{"ast":null,"code":"var _jsxFileName = \"/home/dho/Documentos/InCo/frontend/src/pages/Admin/RegisterProfile/index.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport gql from \"graphql-tag\"; //Imports de outros arquivos\n\nimport api from \"../../../services/api\";\nimport { setLinkAtual } from '../../../utils/DestacaLink';\nimport Logo from \"../../../assets/Logo.png\";\nimport { Form, Container } from '../../../componentsCSS/Form_Cadastro01';\n\nclass RegisterProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nome: \"\",\n      rotulo: \"\",\n      message: \"\"\n    };\n\n    this.handleSignUp = async e => {\n      e.preventDefault();\n      const {\n        nome,\n        rotulo\n      } = this.state;\n\n      if (!nome || !rotulo) {\n        this.setState({\n          message: \"Preencha todos os dados para se cadastrar\"\n        });\n      } else {\n        try {\n          api.mutate({\n            mutation: gql`\n            mutation\n            (\n              $nome: String!\n              $rotulo: String!\n            )\n            {\n              novoPerfil(\n                dados:{\n                  nome: $nome,\n                  rotulo: $rotulo, \n                }\n              )\n            {\n              id nome rotulo  \n            }\n            }\n        `,\n            variables: {\n              nome,\n              rotulo\n            }\n          }).then(resultado => {\n            this.setState({\n              message: null\n            }); // this.setState({ nome: null})\n            // this.setState({ rotulo: null})\n\n            this.setState({\n              message: `Perfil \"${rotulo}\" cadastrado com sucesso!`\n            });\n          }).catch(e => {\n            console.log(e);\n            this.setState({\n              message: 'Nome já Cadastrado!'\n            });\n          });\n        } catch (err) {\n          console.log(err);\n          this.setState({\n            message: \"Ocorreu um erro ao registrar esse rotulo. T.T\"\n          });\n        }\n      }\n    };\n  }\n\n  async componentDidMount() {\n    //nao clk o \"() => \", pq e uma funcao da proprio js\n    setLinkAtual('RegisterProfile');\n  } //Cadastrar novo Usuario comum\n\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSignUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Logo,\n      alt: \"Logo Astek\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.message && React.createElement(\"p\", {\n      className: \"erro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.state.message), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Nome\",\n      onChange: e => this.setState({\n        nome: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Rotulo\",\n      onChange: e => this.setState({\n        rotulo: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Cadastrar Perfil\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withRouter(RegisterProfile);","map":{"version":3,"sources":["/home/dho/Documentos/InCo/frontend/src/pages/Admin/RegisterProfile/index.js"],"names":["React","Component","withRouter","gql","api","setLinkAtual","Logo","Form","Container","RegisterProfile","state","nome","rotulo","message","handleSignUp","e","preventDefault","setState","mutate","mutation","variables","then","resultado","catch","console","log","err","componentDidMount","render","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport gql from \"graphql-tag\"\n\n//Imports de outros arquivos\nimport api from \"../../../services/api\";\nimport { setLinkAtual } from '../../../utils/DestacaLink'\nimport Logo from \"../../../assets/Logo.png\";\nimport { Form, Container } from '../../../componentsCSS/Form_Cadastro01';\n\nclass RegisterProfile extends Component {\n  state = {\n    nome: \"\",\n    rotulo: \"\",\n    message: \"\"\n  };\n  async componentDidMount() { //nao clk o \"() => \", pq e uma funcao da proprio js\n      setLinkAtual('RegisterProfile')\n  }\n  //Cadastrar novo Usuario comum\n  handleSignUp = async e => {\n    e.preventDefault();\n    const { nome, rotulo } = this.state;\n    if (!nome || !rotulo) {\n      this.setState({ message: \"Preencha todos os dados para se cadastrar\" });\n    } else {\n      try {\n        api.mutate({\n          mutation: gql`\n            mutation\n            (\n              $nome: String!\n              $rotulo: String!\n            )\n            {\n              novoPerfil(\n                dados:{\n                  nome: $nome,\n                  rotulo: $rotulo, \n                }\n              )\n            {\n              id nome rotulo  \n            }\n            }\n        `,\n        variables: {\n          nome,\n          rotulo,\n        }\n        }).then(resultado => {\n          this.setState({ message: null})\n          // this.setState({ nome: null})\n          // this.setState({ rotulo: null})\n          this.setState({ message: `Perfil \"${rotulo}\" cadastrado com sucesso!` });\n        }).catch(e =>  {\n          console.log(e)\n          this.setState({ message: 'Nome já Cadastrado!' });}\n          )\n      } catch (err) {\n        console.log(err);\n        this.setState({ message: \"Ocorreu um erro ao registrar esse rotulo. T.T\" });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Container>\n        <Form onSubmit={this.handleSignUp}>\n          <img src={Logo} alt=\"Logo Astek\" />\n          {this.state.message && <p className='erro'>{this.state.message}</p>}\n          <input\n            type=\"text\"\n            placeholder=\"Nome\"\n            onChange={e => this.setState({ nome: e.target.value })}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Rotulo\"\n            onChange={e => this.setState({ rotulo: e.target.value })}\n          />\n          <button type=\"submit\">Cadastrar Perfil</button>\n          <hr />\n        </Form>\n      </Container> \n    );\n  }\n}\n\nexport default withRouter(RegisterProfile);"]},"metadata":{},"sourceType":"module"}