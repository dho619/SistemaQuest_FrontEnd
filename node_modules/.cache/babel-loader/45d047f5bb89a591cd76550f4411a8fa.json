{"ast":null,"code":"var _jsxFileName = \"/home/dho/Documentos/InCo/frontend/src/pages/SignIn/index.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport gql from \"graphql-tag\"; //Imports de outros arquivos\n\nimport Logo from \"../../assets/Logo.png\";\nimport api from \"../../services/api\";\nimport { login } from \"../../services/auth\";\nimport { setLinkAtual } from '../../utils/DestacaLink';\nimport { Form, Container } from \"../../componentsCSS/Form_Cadastro01\";\n\nclass SignIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      senha: \"\",\n      error: \"\"\n    };\n\n    this.handleSignIn = async e => {\n      e.preventDefault();\n      const {\n        email,\n        senha\n      } = this.state;\n\n      if (!email || !senha) {\n        this.setState({\n          error: \"Preencha e-mail e senha para continuar!\"\n        });\n      } else {\n        try {\n          api.query({\n            query: gql`\n                query (\n                    $email: String!\n                    $senha: String!\n                ){\n                    login(\n                        dados: {\n                            email: $email\n                            senha: $senha\n                        }\n                    ){\n                        id nome email token perfis { nome rotulo }\n                    }\n                }\n            `,\n            variables: {\n              email: email,\n              senha: senha\n            }\n          }).then(resultado => {\n            login(resultado.data.login);\n            this.setState({\n              error: null\n            });\n            window.location.href = \"/avaliacoes\";\n          }).catch(e => {\n            console.log(e);\n            this.setState({\n              error: \"Houve um problema com o login, tente novamente. T.T\"\n            });\n          });\n        } catch (err) {\n          this.setState({\n            error: \"Houve um problema com o login, verifique suas credenciais. T.T\"\n          });\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    setLinkAtual('signIn');\n    window.scrollTo(0, 130);\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSignIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Logo,\n      alt: \"Logo do site\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), this.state.error && React.createElement(\"p\", {\n      className: \"erro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.state.error), React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Endere\\xE7o de e-mail\",\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Senha\",\n      onChange: e => this.setState({\n        senha: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Entrar\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Criar conta gr\\xE1tis\")));\n  }\n\n}\n\nexport default withRouter(SignIn);","map":{"version":3,"sources":["/home/dho/Documentos/InCo/frontend/src/pages/SignIn/index.js"],"names":["React","Component","Link","withRouter","gql","Logo","api","login","setLinkAtual","Form","Container","SignIn","state","email","senha","error","handleSignIn","e","preventDefault","setState","query","variables","then","resultado","data","window","location","href","catch","console","log","err","componentDidMount","scrollTo","render","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport gql from \"graphql-tag\"\n\n//Imports de outros arquivos\nimport Logo from \"../../assets/Logo.png\";\nimport api from \"../../services/api\";\nimport { login } from \"../../services/auth\";\nimport { setLinkAtual } from '../../utils/DestacaLink'\n\nimport { Form, Container } from \"../../componentsCSS/Form_Cadastro01\";\n\nclass SignIn extends Component {\n  state = {\n    email: \"\",\n    senha: \"\",\n    error: \"\"\n  };\n\n  componentDidMount(){\n    setLinkAtual('signIn')\n    window.scrollTo(0,130)\n  }\n\n  handleSignIn = async e => {\n    e.preventDefault();\n    const { email, senha } = this.state;\n    if (!email || !senha) {\n      this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n    } else {\n      try {\n        api.query({\n            query: gql `\n                query (\n                    $email: String!\n                    $senha: String!\n                ){\n                    login(\n                        dados: {\n                            email: $email\n                            senha: $senha\n                        }\n                    ){\n                        id nome email token perfis { nome rotulo }\n                    }\n                }\n            `,\n            variables: {\n                email: email,\n                senha: senha\n            }\n        }).then(resultado => {\n            login(resultado.data.login);\n            this.setState({ error: null})\n            window.location.href= \"/avaliacoes\";\n        }).catch(e => {\n          console.log(e)\n          this.setState({\n            error:\n              \"Houve um problema com o login, tente novamente. T.T\"\n          });\n        })\n      } catch (err) {\n        this.setState({\n          error:\n            \"Houve um problema com o login, verifique suas credenciais. T.T\"\n        });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <Container>\n        <Form onSubmit={this.handleSignIn}>\n          <img src={Logo} alt=\"Logo do site\" />\n          {this.state.error && <p className='erro'>{this.state.error}</p>}\n          <input\n            type=\"email\"\n            placeholder=\"Endereço de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            onChange={e => this.setState({ senha: e.target.value })}\n          />\n          <button type=\"submit\">Entrar</button>\n          <hr />\n          <Link \n            to=\"/signup\"\n          >\n            Criar conta grátis\n          </Link>\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(SignIn);"]},"metadata":{},"sourceType":"module"}